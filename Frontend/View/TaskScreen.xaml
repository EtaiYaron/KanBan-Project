<Window x:Class="IntroSE.Kanban.Frontend.View.TaskScreen"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:IntroSE.Kanban.Frontend.View"
        mc:Ignorable="d"
        Closing="TaskScreen_Closing"
        Title="Task Screen" Height="700" Width="900"
        Background="#14122E"
        FontFamily="Segoe UI">

    <Grid>
        <StackPanel Margin="20" HorizontalAlignment="Center" VerticalAlignment="Top" Width="800">

            <TextBlock Text="{Binding Path=TaskMsg, Mode=OneWay}" 
                       HorizontalAlignment="Center" 
                       FontSize="28" 
                       FontWeight="Bold" 
                       Foreground="#FFFFFF" />

            <Label Content="{Binding Path=Owner, Mode=OneWay}" 
                   FontSize="16" 
                   FontWeight="SemiBold" 
                   Foreground="#9CA3AF" 
                   HorizontalAlignment="Center" 
                   Margin="0,5,0,10"/>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,10">
                <Label Content="Members of board:" 
                       VerticalAlignment="Center" 
                       FontSize="16" 
                       Foreground="#E0E1DD"/>
                <ItemsControl ItemsSource="{Binding JoinedUsers}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#2C3E50" 
                                    Padding="8" 
                                    CornerRadius="5" 
                                    Margin="5,0">
                                <TextBlock Text="{Binding}" 
                                           Foreground="#FFFFFF"/>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>

            <StackPanel>
                <Label Content="Backlog Tasks:" 
                       FontSize="18" 
                       FontWeight="SemiBold" 
                       Foreground="#E0E1DD" />
                <DataGrid ItemsSource="{Binding Backlog}" 
                          AutoGenerateColumns="True"
                          HeadersVisibility="Column"
                          GridLinesVisibility="Horizontal"
                          RowBackground="#A1E0FF"
                          AlternatingRowBackground="#9DC6E1"
                          Foreground="#1F2937"
                          Background="#1F2937"
                          BorderBrush="#374151"
                          Margin="0,5,0,5"
                          FontSize="14"/>

                <Label Content="In Progress Tasks:" 
                       FontSize="18" 
                       FontWeight="SemiBold" 
                       Foreground="#E0E1DD" 
                       Margin="0,10,0,0"/>
                <DataGrid ItemsSource="{Binding InProgress}" 
                          AutoGenerateColumns="True"
                          HeadersVisibility="Column"
                          GridLinesVisibility="Horizontal"
                          RowBackground="#A1E0FF"
                          AlternatingRowBackground="#9DC6E1"
                          Foreground="#1F2937"
                          Background="#1F2937"
                          BorderBrush="#374151"
                          Margin="0,5,0,5"
                          FontSize="14"/>

                <Label Content="Done Tasks:" 
                       FontSize="18" 
                       FontWeight="SemiBold" 
                       Foreground="#E0E1DD" 
                       Margin="0,10,0,0"/>
                <DataGrid ItemsSource="{Binding Done}" 
                          AutoGenerateColumns="True"
                          HeadersVisibility="Column"
                          GridLinesVisibility="Horizontal"
                          RowBackground="#A1E0FF"
                          AlternatingRowBackground="#9DC6E1"
                          Foreground="#1F2937"
                          Background="#1F2937"
                          BorderBrush="#374151"
                          Margin="0,5,0,5"
                          FontSize="14"/>
            </StackPanel>

            <Button Content="Back"
                    Width="140" Height="44"
                    Margin="0,15,0,0"
                    Click="Back_Click"
                    FontSize="15" FontWeight="Bold"
                    Foreground="#14122E" Background="#FFFFFF"
                    BorderBrush="#8CC6E1" BorderThickness="0"
                    HorizontalAlignment="Center"
                    Cursor="Hand">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="6"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}">
                                        <ContentPresenter HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#8CC6E1"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
    </Grid>
</Window>
